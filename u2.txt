org 0000h
jmp st
;defining functions for lcd
command:
mov p2,a
clr p1.0
clr p1.1
setb p1.2
acall delay
clr p1.2
acall delay
acall delay
ret 

write:
;lcall ready
mov p2,a
setb p1.0
clr p1.1
setb p1.2
acall delay
clr p1.2
acall delay
acall delay
ret

ready:
setb p2.7
clr p1.0
setb p1.1
wait:
clr p1.2
acall delay
setb p1.2
jb p2.7,wait
ret

delay:
mov r0,#1ch
rep:
djnz r0,rep
ret

delay_1s:
mov r3,#08h
df1s:
mov r2,#0ffh
d1s:
mov r1,#0ffh
de1s:
djnz r1,de1s
djnz r2,d1s
djnz r3,df1s
ret

;start of program

st:

port_ini:
mov p2,#00h
setb p1.0
setb p1.1
setb p1.2
acall delay_1s

Lcd_ini:
mov a,#38h
acall command
mov a,#06h
acall command
mov a,#0ch
acall command
mov a,#01h
acall command
mov a,#80h
acall command
acall delay_1s

Display:
mov a,#'E'
acall write
mov a,#'n'
acall write
mov a,#'t'
acall write
mov a,#'e'
acall write
mov a,#'r'
acall write
mov a,#14h
acall command 
mov a,#'m'
acall write
mov a,#'o'
acall write



mov a,#'d'
acall write
mov a,#'e'
acall write

mov a,#14h
acall command

mov a,#'1'
acall write
mov a,#'o'
acall write
mov a,#'r'
acall write
mov a,#'2'
acall write


mov tmod,#20h
mov th1,#-6
mov scon,#50h
setb tr1
here:jnb ri,here
mov a,sbuf
mov 50h,a
clr ri
jnb ri,$
mov a,sbuf
mov 51h,a
clr ri
jnb ri,$
mov a,sbuf
mov 52h,a
clr ri
jnb ri,$
mov a,sbuf
mov 53h,a
clr ri
jnb ri,$
mov a,sbuf
mov 54h,a
clr ri
jnb ri,$
mov a,sbuf
mov 55h,a
clr ri
jnb ri,$
mov a,sbuf
mov 56h,a
clr ri
jnb ri,$
mov a,sbuf
mov 57h,a
clr ri
jnb ri,$
mov a,sbuf
mov 58h,a
clr ri
jnb ri,$
mov a,sbuf
mov 59h,a
clr ri
jnb ri,$
mov a,sbuf
mov 60h,a
clr ri
jnb ri,$
mov a,sbuf
mov 61h,a
clr ri


mov a,#38h
acall command
mov a,#06h
acall command
mov a,#0ch
acall command
mov a,#01h
acall command
mov a,#80h
acall command
acall delay_1s


mov a,50h
acall write
mov a,51h
acall write
mov a,52h
acall write
mov a,53h
acall write
mov a,54h
acall write

mov a,55h
acall write
mov a,56h
acall write
mov a,57h
acall write
mov a,58h
acall write
mov a,59h
acall write
mov a,60h
acall write
mov a,61h
acall write

jnb ri,$
	mov a,sbuf
	clr ri
	mov 62h,a

	
	
	;reinitializing lcd
mov a,#38h
acall command
mov a,#06h
acall command
mov a,#0ch
acall command
mov a,#01h
acall command
mov a,#80h
acall command
acall delay_1s


mov a,62h	
acall write	

DELAYfornumdisplay: 
mov r5,#8d

a1:
MOV R6,#250D
       MOV R7,#250D
LOOP1: DJNZ R6,LOOP1
LOOP2: DJNZ R7,LOOP1
LOOP3: DJNZ R5,a1



	;reinitializing lcd
mov a,#38h
acall command
mov a,#06h
acall command
mov a,#0ch
acall command
mov a,#01h
acall command
mov a,#80h
acall command
acall delay_1s

//name writing
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write

jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write

mov a,#0c0h
acall command

jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write
jnb ri,$
mov a,sbuf
clr ri
acall write






	




jmp $

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;



end